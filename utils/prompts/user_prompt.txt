Task Description:
{task_description}

Environment Details:
- Task: {env_details.task}
- Environment Name: {env_details.env_name}
- Description: {env_details.task_description}

Feedback from Previous Iterations:
{feedback}

Using the above information, please generate a refined reward function in Python. Ensure that the code is modular and includes clear comments explaining the purpose and rationale behind each section. The reward function should be suitable for guiding a reinforcement learning agent to successfully complete the described task in the specified environment.
